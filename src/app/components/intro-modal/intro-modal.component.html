<div class="intro-modal-overlay"
     *ngIf="showModal">
    <div class="modal-container">
        <!-- First Layer: Safe Door -->
        <div class="safe-door"
             *ngIf="showFirstLayer"
             [ngClass]="{'animating': isAnimating}">
            <!-- Safe Door Frame -->
            <div class="safe-frame">
                <!-- Energy Field -->
                <div class="energy-field"></div>

                <!-- Advanced Circuit Network -->
                <div class="circuit-network">
                    <div class="circuit-line horizontal top primary"></div>
                    <div class="circuit-line horizontal top secondary"></div>
                    <div class="circuit-line horizontal bottom primary"></div>
                    <div class="circuit-line horizontal bottom secondary"></div>
                    <div class="circuit-line vertical left primary"></div>
                    <div class="circuit-line vertical left secondary"></div>
                    <div class="circuit-line vertical right primary"></div>
                    <div class="circuit-line vertical right secondary"></div>

                    <!-- Circuit nodes -->
                    <div class="circuit-node top-left"></div>
                    <div class="circuit-node top-right"></div>
                    <div class="circuit-node bottom-left"></div>
                    <div class="circuit-node bottom-right"></div>
                </div>

                <!-- Door Panels -->
                <div class="door-panel top-panel">
                    <div class="panel-surface">
                        <div class="panel-light-beams"></div>
                        <div class="panel-detail"></div>
                        <div class="panel-grid"></div>
                        <div class="panel-hex-pattern"></div>
                        <div class="panel-decoration">
                            <div class="deco-line primary"></div>
                            <div class="deco-line secondary"></div>
                            <div class="deco-circle outer"></div>
                            <div class="deco-circle middle"></div>
                            <div class="deco-circle inner"></div>
                        </div>
                        <div class="panel-corner top-left"></div>
                        <div class="panel-corner top-right"></div>
                    </div>
                </div>

                <div class="door-panel bottom-panel">
                    <div class="panel-surface">
                        <div class="panel-light-beams"></div>
                        <div class="panel-detail"></div>
                        <div class="panel-grid"></div>
                        <div class="panel-hex-pattern"></div>
                        <div class="panel-decoration">
                            <div class="deco-line primary"></div>
                            <div class="deco-line secondary"></div>
                            <div class="deco-circle outer"></div>
                            <div class="deco-circle middle"></div>
                            <div class="deco-circle inner"></div>
                        </div>
                        <div class="panel-corner bottom-left"></div>
                        <div class="panel-corner bottom-right"></div>
                    </div>
                </div>

                <!-- Central Circle Mechanism -->
                <div class="central-mechanism"
                     (click)="startUnlockAnimation()">
                    <div class="mechanism-outer-ring">
                        <div class="outer-ring-glow"></div>
                        <div class="outer-ring-lights"></div>
                    </div>
                    <div class="mechanism-middle-ring">
                        <div class="middle-ring-pattern"></div>
                    </div>
                    <div class="mechanism-inner-circle">
                        <div class="inner-circle-glow"></div>
                        <div class="mechanism-center">
                            <div class="center-icon">‚äï</div>
                            <div class="center-glow"></div>
                        </div>
                    </div>
                    <div class="mechanism-teeth">
                        <div class="tooth"
                             *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12]"
                             [style.transform]="'rotate(' + (i * 30) + 'deg)'"></div>
                    </div>
                    <div class="mechanism-secondary-ring"></div>
                    <div class="unlock-indicator">

                    </div>
                </div>

                <!-- Advanced Holographic Effects -->
                <div class="holographic-effects">
                    <div class="holo-scan-line"></div>
                    <div class="holo-interference"></div>

                    <!-- Enhanced Particles -->
                    <div class="holo-particles">
                        <div class="particle"
                             *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]"
                             [style.animation-delay]="(i * 0.15) + 's'"
                             [style.left]="(i % 4) * 25 + '%'"
                             [style.top]="(i / 4) * 25 + '%'"></div>
                    </div>

                    <!-- Energy streams -->
                    <div class="energy-streams">
                        <div class="energy-stream"
                             *ngFor="let i of [1,2,3,4]"
                             [style.animation-delay]="(i * 0.5) + 's'"></div>
                    </div>

                    <!-- Quantum dots -->
                    <div class="quantum-dots">
                        <div class="quantum-dot"
                             *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]"
                             [style.animation-delay]="(i * 0.1) + 's'"
                             [style.transform]="'rotate(' + (i * 36) + 'deg) translateY(-80px)'"></div>
                    </div>
                </div>

                <!-- Ambient light -->
                <div class="ambient-light"></div>
            </div>
        </div>

        <!-- Second Layer: Content -->
        <div class="content-layer"
             *ngIf="showSecondLayer">
            <div class="content-container">
                <div class="content-header">
                    <h1>Chasse au Tr√©sor Temporelle</h1>
                    <div class="header-decoration"></div>
                </div>

                <div class="content-body">
                    <div class="story-section">
                        <h2>Transmission Temporelle Activ√©e</h2>
                        <p class="date-stamp">Coordonn√©es Temporelles: An 2075 ‚Üí 30√®me Ann√©e d'Estelle</p>

                        <p>Bonjour, Estelle du pass√©. Je suis toi, depuis l'an 2075. Cette "bo√Æte √† outils temporelle"
                            t'a √©t√© envoy√©e pour c√©l√©brer ton 30√®me anniversaire - une tradition ancestrale √©tablie
                            depuis la d√©couverte des voyages temporels en 2060.</p>

                        <p>Ce p√®lerinage temporel te permettra de revisiter les lieux significatifs de ta vie, de ta
                            naissance jusqu'√† ce jour si sp√©cial.</p>
                    </div>

                    <div class="tools-section">
                        <h2>Outils √† Ta Disposition</h2>

                        <div class="tool-item">
                            <div class="tool-icon">üó∫Ô∏è</div>
                            <div class="tool-description">
                                <h3>Carte Temporelle</h3>
                                <p>Liste chronologique des lieux cl√©s de ton parcours</p>
                            </div>
                        </div>

                        <div class="tool-item">
                            <div class="tool-icon">üì°</div>
                            <div class="tool-description">
                                <h3>Traceur Spatial</h3>
                                <p>Activation automatique √† moins de 100m des points d'int√©r√™t</p>
                            </div>
                        </div>
                    </div>

                    <div class="mission-section">
                        <h2>Ta Mission</h2>
                        <ul>
                            <li>Chaque √©tape sera d√©verrouill√©e s√©quentiellement</li>
                            <li>Utilise les indices pour localiser chaque lieu</li>
                            <li>√Ä proximit√©, le traceur spatial te guidera pr√©cis√©ment</li>
                            <li>En atteignant ton objectif, re√ßois un message de ton futur-soi</li>
                        </ul>
                    </div>

                    <div class="blessing-section">
                        <p class="blessing-text">Puissent les chakras de ta ligne temporelle s'aligner. Puisses-tu
                            trouver la paix dans le voyage √† travers tes souvenirs.</p>
                    </div>
                </div>

                <div class="content-footer">
                    <button class="close-button"
                            (click)="closeModal()">
                        <span>Commencer le P√®lerinage</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>