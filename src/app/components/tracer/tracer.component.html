<div class="traceur-container">

    <!-- Sci-fi decorations -->
    <div class="sci-fi-decorations">
        <div class="circuit-pattern">
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line vertical"></div>
            <div class="circuit-line vertical"></div>
        </div>

        <div class="holographic-overlay">
            <div class="holo-particle"></div>
            <div class="holo-particle"></div>
            <div class="holo-particle"></div>
            <div class="holo-particle"></div>
        </div>

        <div class="data-streams">
            <div class="data-stream"></div>
            <div class="data-stream"></div>
        </div>
    </div>

    <!-- Current tracking step title -->
    <div class="step-title-container"
         *ngIf="currentStep">
        <div class="step-title">{{ currentStep.title }}</div>
        <div class="step-counter">Année {{ currentStep.year }}</div>
    </div>

    <!-- Indicateur de proximité -->
    <div class="tracker-device"
         *ngIf="currentDistance !== null">
        <!-- Outer ring -->
        <div class="device-frame">
            <!-- Inner display -->
            <div class="device-display">
                <!-- Radial progress -->
                <div class="radial-progress"
                     [style.background]="getRadialProgressBackground()">
                    <!-- Center dot -->
                    <div class="center-dot"
                         [class.pulse]="isCloseToTarget()">
                        <div class="inner-dot"></div>
                    </div>

                    <!-- Orbital rings -->
                    <div class="orbital-ring ring-1"></div>
                    <div class="orbital-ring ring-2"></div>

                    <!-- Distance markers -->
                    <div class="distance-markers">
                        <span class="marker north">气</span>
                        <span class="marker east">么</span>
                        <span class="marker south">刁</span>
                        <span class="marker west">彡</span>
                    </div>
                </div>

                <!-- Distance readout -->
                <div class="distance-readout">
                    <div class="distance-value"
                         [ngClass]="getDistanceColorClass()">
                        {{ formatDistance(currentDistance) }}
                    </div>
                    <div class="distance-label">Distance</div>
                </div>
            </div>

            <!-- Device details -->
            <div class="device-details">
                <div class="detail-knob top-left"></div>
                <div class="detail-knob top-right"></div>
                <div class="detail-knob bottom-left"></div>
                <div class="detail-knob bottom-right"></div>
            </div>
        </div>

        <!-- Status message -->
        <div class="status-message"
             *ngIf="isCloseToTarget()">
            <div class="status-indicator"></div>
            <p>Signal verrouillé - Restez à proximité</p>
        </div>
    </div>

    <!-- Debug Panel Component -->
    <app-debug-panel [currentStep]="currentStep"
                     [currentCoordinates]="currentCoordinates"
                     [currentDistance]="currentDistance">
    </app-debug-panel>
</div>